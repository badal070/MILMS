{% extends 'quiz/base.html' %}

{% block title %}{{ quiz.title }}{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1 class="page-title">{{ quiz.title }}</h1>
        <p class="text-muted">{{ quiz.description }}</p>
        <div class="mt-3">
            <span class="badge bg-primary me-2">{{ quiz.subject.name }}</span>
            <span class="badge bg-secondary me-2">{{ quiz.standard.name }}</span>
            <span class="badge bg-info text-dark me-2">
                <i class="fas fa-question-circle me-1"></i>{{ questions.count }} Questions
            </span>
            <span class="badge bg-warning text-dark">
                <i class="fas fa-clock me-1"></i>{{ quiz.duration_minutes }} Minutes
            </span>
        </div>
    </div>
    
    <form method="post" id="quizForm">
        {% csrf_token %}
        
        {% for question in questions %}
        <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">
                    <span class="badge bg-primary me-2">Q{{ forloop.counter }}</span>
                    {{ question.question_text }}
                </h5>
                
                <div class="mt-3">
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="question_{{ question.id }}" value="A" id="q{{ question.id }}_a">
                        <label class="form-check-label" for="q{{ question.id }}_a">
                            <strong>A.</strong> {{ question.option_a }}
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="question_{{ question.id }}" value="B" id="q{{ question.id }}_b">
                        <label class="form-check-label" for="q{{ question.id }}_b">
                            <strong>B.</strong> {{ question.option_b }}
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="question_{{ question.id }}" value="C" id="q{{ question.id }}_c">
                        <label class="form-check-label" for="q{{ question.id }}_c">
                            <strong>C.</strong> {{ question.option_c }}
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="question_{{ question.id }}" value="D" id="q{{ question.id }}_d">
                        <label class="form-check-label" for="q{{ question.id }}_d">
                            <strong>D.</strong> {{ question.option_d }}
                        </label>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        
        <div class="card bg-light">
            <div class="card-body text-center">
                <button type="submit" class="btn btn-success btn-lg px-5" onclick="return confirm('Are you sure you want to submit? You cannot change answers after submission.');">
                    <i class="fas fa-check-circle me-2"></i>Submit Quiz
                </button>
            </div>
        </div>
    </form>
</div>
{% endblock %}
